CREATE DATABASE hotelmgmt;

use hotelmgmt;


--Table to hold all city information
CREATE TABLE TCITY
(CITY_ID INT NOT NULL,
CITY_NM VARCHAR(50),
PRIMARY KEY (CITY_ID));


INSERT INTO TCITY VALUES(1,'Bengaluru');
INSERT INTO TCITY VALUES(2,'New Delhi');
INSERT INTO TCITY VALUES(3,'Kolkata');
INSERT INTO TCITY VALUES(4,'Mumbai');
INSERT INTO TCITY VALUES(5,'Hyderabad');
INSERT INTO TCITY VALUES(6,'Chennai');



CREATE TABLE THOTEL
(
HOTEL_ID INT NOT NULL,
HOTEL_NM VARCHAR(50),
CITY_ID INT NOT NULL,
PRIMARY KEY(HOTEL_ID),
FOREIGN KEY(CITY_ID) REFERENCES CITY(CITY_ID)
);

INSERT INTO THOTEL VALUES(1,'Vivanta by Taj Yashwantpur',1);
INSERT INTO THOTEL VALUES(2,'The Leela Palace',1);
INSERT INTO THOTEL VALUES(3,'Sheraton Grand',1);
INSERT INTO THOTEL VALUES(4,'Vivanta By Taj MG Road',1);
INSERT INTO THOTEL VALUES(5,'The Oberoi',1);
INSERT INTO THOTEL VALUES(6,'Leela Palace',2);
INSERT INTO THOTEL VALUES(7,'The Imperial',2);
INSERT INTO THOTEL VALUES(8,'Vivanta by Taj Ambassador',2);
INSERT INTO THOTEL VALUES(9,'The Sonnet',3);
INSERT INTO THOTEL VALUES(10,'Hotel Monotel',3);
INSERT INTO THOTEL VALUES(11,'The Taj Mahal Palace',4);
INSERT INTO THOTEL VALUES(12,'JW Marriott',4);
INSERT INTO THOTEL VALUES(13,'The Park',5);
INSERT INTO THOTEL VALUES(14,'Trident',5);
INSERT INTO THOTEL VALUES(15,'Hilton',6);
INSERT INTO THOTEL VALUES(16,'Radisson Blu Hotel',6);


CREATE TABLE TROOM
(
ROOM_ID INT NOT NULL,
HOTEL_ID INT NOT NULL,
TARIFF DOUBLE NOT NULL,
PRIMARY KEY(ROOM_ID),
FOREIGN KEY(HOTEL_ID) REFERENCES THOTEL(HOTEL_ID)
);


INSERT INTO TROOM VALUES(1,1,1000);
INSERT INTO TROOM VALUES(2,2,1100);
INSERT INTO TROOM VALUES(3,3,1000);
INSERT INTO TROOM VALUES(4,4,1000);
INSERT INTO TROOM VALUES(5,5,1000);
INSERT INTO TROOM VALUES(6,6,1000);
INSERT INTO TROOM VALUES(7,6,1000);
INSERT INTO TROOM VALUES(8,7,1000);
INSERT INTO TROOM VALUES(9,8,1000);
INSERT INTO TROOM VALUES(10,9,1000);
INSERT INTO TROOM VALUES(11,10,1000);
INSERT INTO TROOM VALUES(12,11,1000);
INSERT INTO TROOM VALUES(13,12,1000);
INSERT INTO TROOM VALUES(14,13,1000);
INSERT INTO TROOM VALUES(15,14,1000);
INSERT INTO TROOM VALUES(16,15,1000);
INSERT INTO TROOM VALUES(17,16,1000);
INSERT INTO TROOM VALUES(18,1,1000);
INSERT INTO TROOM VALUES(19,2,1000);
INSERT INTO TROOM VALUES(20,3,1000);
INSERT INTO TROOM VALUES(21,9,1000);
INSERT INTO TROOM VALUES(22,11,1000);
INSERT INTO TROOM VALUES(23,13,1000);

CREATE TABLE TBOOKING_USER
(
BOOKING_USER_ID INT NOT NULL,
BOOKING_REF_NO VARCHAR(20) NOT NULL,
BOOKING_DT TIMESTAMP NOT NULL,
TOTAL_PRICE DOUBLE NOT NULL,
PRIMARY KEY(BOOKING_USER_ID)
);

CREATE TABLE TBOOKED_ROOM_DETAILS
(
BOOKED_RM_DTL_ID INT NOT NULL,
ROOM_ID INT NOT NULL,
BOOKING_USER_ID INT NOT NULL,
CHECKIN_DT DATE NOT NULL,
CHECKOUT_DT DATE NOT NULL,
PRIMARY KEY(BOOKING_USER_ID),
FOREIGN KEY(ROOM_ID) REFERENCES TROOM(ROOM_ID),
FOREIGN KEY(BOOKING_USER_ID) REFERENCES TBOOKING_USER(BOOKING_USER_ID)
);




